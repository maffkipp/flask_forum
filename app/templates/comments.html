{% extends 'base.html' %} 

{% block content %}
<div class='post'>
    <h2>{{ post.title }}</h2>
    <p>{{ post.content }}</p>
    <p>posted by <strong>{{post.name}}</strong> at {{post.time}}</p>
</div>
{% for comment in post.comments %}
    <div class='comment'>
        <p>{{ comment.content }}</p>
        <p>posted by <strong>{{comment.name}}</strong> at {{comment.time}}</p>
    </div>
{% endfor %}
<h3>New Comment</h3>
<form class='comment-form' action='' method='post' name='new_comment'>
    {{ form.hidden_tag() }}
    <p>
        {{ form.content.label }}
        <br> {{ form.content(cols=50, rows=4) }}
        <br> {% for error in form.content.errors %}
        <span style='color: red;'>[{{error}}]</span>
        {% endfor %}
    </p>
    <p>
        {{ form.name.label }}
        <br> {{ form.name(size=32) }}
        <br> {% for error in form.name.errors %}
        <span style='color: red;'>[{{error}}]</span>
        {% endfor %}
    </p>
    <button type="submit">Comment</button>
</form>
{% endblock %}